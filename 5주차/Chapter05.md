μ™Έλ¶€μ μ”μ²­μ„ λ°›μ•„ μ‘λ‹µν•λ” κΈ°λ¥μ„ κµ¬ν„ν•΄μ„ μ»¨νΈλ΅¤λ¬κ°€ μ–΄λ–»κ² κµ¬μ„±λλ”μ§€ μ•μ•„λ³΄μ.

## GET API

μ›Ή app μ„λ²„μ—μ„ κ°’μ„ κ°€μ Έμ¬ λ• μ‚¬μ©ν•λ” apiμ΄λ‹¤.
μ‹¤λ¬΄μ—μ„λ” http λ©”μ„λ“μ— λ”°λΌ μ»¨νΈλ΅¤λ¬ ν΄λμ¤λ¥Ό κµ¬λ¶„ν•μ§€ μ•λ”λ‹¤.

β†’ λ³΄ν†µ `@GetMapping(value=β€/board/adminβ€)` μ΄λ°μ‹ Urlμ„ μ„¤μ •ν•΄μ„ μ‚¬μ©ν•¨.

`@RequestMapping` μ–΄λ…Έν…μ΄μ…μ€ λ³„λ‹¤λ¥Έ μ„¤μ • μ—†μ΄ μ„ μ–Έν•λ©΄ Httpμ λ¨λ“  μ”μ²­μ„ λ°›λ”λ‹¤.
κ·Έλ¬λ‚ get ν•μ‹μ μ”μ²­λ§ λ°›κΈ° μ„ν•΄μ„λ” μ–΄λ…Έν…μ΄μ…μ— λ³„λ„ μ„¤μ •μ΄ ν•„μ”ν•λ‹¤.

μμ  5-2) method μ”μ†μ κ°’μ„ RequestMethod.GETμΌλ΅ μ„¤μ •ν•λ©΄ μ”μ²­ ν•μ‹μ„ GETμΌλ΅λ§ μ„¤μ •ν•  μ μλ‹¤.

```java
@RestController
@RequestMapping("/api/v1/get-api")
class GetController{
	@RequestMapping(value ="/hello", method = RequestMethod.GET)
	public String getHello(){
		return "hello world";
		}
}
```

μ΄λ ‡κ² μ‘μ„±ν•  μλ„ μλ”λ° μ¤ν”„λ§ 4.3 μ΄ν›„λ΅λ” μƒλ΅ λ‚μ¨ μ•„λμ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•κΈ° λ•λ¬Έμ— `@RequestMapping` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ§€ μ•μµλ‹λ‹¤.

- GetMapping
- PostMapping
- PutMapping
- DeleteMapping

μ΄ 4κ°μ μ–΄λ…Έν…μ΄μ…μ΄ λ€ν‘μ μ…λ‹λ‹¤.

### μμ  5-3) λ§¤κ°λ³€μκ°€ μ—†λ” GET λ©”μ„λ“ κµ¬ν„

```java
//http://localhost:8080/api/v1/get-api/name
@GetMapping(value="/name")
public String getName(){
	return "flature";
}
```

λ§¤κ°λ³€μκ°€ μ—†λ” μ”μ²­μ€ μ„ μμ  μ½”λ“μ 
`http://localhost:8080/api/v1/get-api/name` μ΄ URLμ„ κ·Έλ€λ΅ μ…λ ¥ν•κ³  μ”μ²­ν•  λ• μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ •ν•΄μ§„ μ‘λ‹µμ„ λ°ν™ν•κ² λ©λ‹λ‹¤.

Q. μ™ ν•΄λ‹Ή urlμ„ μ…λ ¥ν•΄λ„ μ„μ λ©”μ„λ“κ°€ νΈμ¶λλ©΄μ„ return κ°’μ΄ ν™”λ©΄μ— μ¶λ ¥λλ”μ§€ μ• μ μλ‚μ” ?

A. 

λ§¤κ°λ³€μκ°€ μ—†λ” GET λ©”μ„λ“μ κµ¬ν„ μμ μΈ μ½”λ“λ¥Ό μ‚΄ν΄λ³΄λ©΄, μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ€ ν•΄λ‹Ή URL(**`http://localhost:8080/api/v1/get-api/name`**)μ— λ€ν• μ”μ²­μ„ λ°›μ•μ„ λ• μ–΄λ–»κ² μ‘λ™ν•λ”μ§€ μ• μ μμµλ‹λ‹¤. μ—¬κΈ°μ„ μ¤‘μ”ν• μ—­ν• μ„ ν•λ” κ²ƒμ€ μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ μ»¨νΈλ΅¤λ¬μ™€ **`@GetMapping`** μ–΄λ…Έν…μ΄μ…μ…λ‹λ‹¤.

1. **μ»¨νΈλ΅¤λ¬ λ° λ§¤ν•‘**: **`@GetMapping(value="/name")`**μ΄ λ¶™μ€ λ©”μ„λ“λ” μ¤ν”„λ§μ μ»¨νΈλ΅¤λ¬ λ‚΄μ— μ •μλ©λ‹λ‹¤. μ»¨νΈλ΅¤λ¬λ” ν΄λΌμ΄μ–ΈνΈμ HTTP μ”μ²­μ„ μ²λ¦¬ν•λ” ν΄λμ¤λ΅, νΉμ • URL κ²½λ΅μ— λ€ν• μ”μ²­μ„ μ²λ¦¬ν•  λ©”μ„λ“λ¥Ό λ§¤ν•‘ν•λ” μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•©λ‹λ‹¤. μ—¬κΈ°μ„ **`@GetMapping`**μ€ HTTP GET μ”μ²­μ„ ν•΄λ‹Ή λ©”μ„λ“λ΅ λΌμ°ν…ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤. **`value="/name"`**μ€ μ΄ λ©”μ„λ“κ°€ **`/api/v1/get-api/name`** μ΄λΌλ” URL ν¨ν„΄μ— λ°μ‘ν•λ„λ΅ μ§€μ •ν•©λ‹λ‹¤.
2. **λ©”μ„λ“ μ‹¤ν–‰**: ν΄λΌμ΄μ–ΈνΈκ°€ **`http://localhost:8080/api/v1/get-api/name`** URLλ΅ GET μ”μ²­μ„ λ³΄λ‚΄λ©΄, μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ€ **`getName()`** λ©”μ„λ“λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤. μ΄ λ©”μ„λ“λ” κ°„λ‹¨ν λ¬Έμμ—΄ **`"flature"`**λ¥Ό λ°ν™ν•©λ‹λ‹¤.
3. **HTTP μ‘λ‹µ λ°ν™**: λ°ν™λ **`"flature"`** λ¬Έμμ—΄μ€ μ¤ν”„λ§ λ¶€νΈμ— μν•΄ HTTP μ‘λ‹µμ λ³Έλ¬ΈμΌλ΅ μ„¤μ •λκ³  ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅λ©λ‹λ‹¤. μ¤ν”„λ§ λ¶€νΈλ” λ‚΄λ¶€μ μΌλ΅ λ°ν™ κ°’μΌλ΅λ¶€ν„° HTTP μ‘λ‹µμ„ κµ¬μ„±ν•©λ‹λ‹¤. μΌλ°μ μΌλ΅, λ°ν™ νƒ€μ…μ΄ λ‹¨μν• λ¬Έμμ—΄μΌ κ²½μ° **`text/plain`** νƒ€μ…μ μ‘λ‹µμΌλ΅ μ²λ¦¬λμ–΄ ν΄λΌμ΄μ–ΈνΈμ λΈλΌμ°μ €λ‚ HTTP ν΄λΌμ΄μ–ΈνΈμ— ν‘μ‹λ©λ‹λ‹¤.

μ΄ κ³Όμ •μ„ ν†µν•΄, λ§¤κ°λ³€μ μ—†λ” GET λ©”μ„λ“κ°€ μ–΄λ–»κ² κ°„λ‹¨ν• λ¬Έμμ—΄μ„ ν΄λΌμ΄μ–ΈνΈμ— μ „μ†΅ν•λ”μ§€λ¥Ό μ• μ μμµλ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” ν•΄λ‹Ή URLμ— μ ‘μ†λ§ ν•λ©΄ μ„λ²„λ΅λ¶€ν„° "flature"λΌλ” μ‘λ‹µμ„ λ°›κ² λλ” κ²ƒμ…λ‹λ‹¤.

Q. http://localhost:8080/name μΌλ΅ μ ‘μ†ν•κ² λλ©΄ λ‘κ°™μ΄ getName λ©”μ„λ“λ¥Ό νΈμ¶ν•κ² λλ”κ±°μ•Ό ?

A. 

**`http://localhost:8080/name`** URLλ΅ μ ‘μ†ν–μ„ λ• **`getName`** λ©”μ„λ“κ°€ νΈμ¶λλ”μ§€ μ—¬λ¶€λ” URL λ§¤ν•‘ μ„¤μ •μ— λ‹¬λ ¤ μμµλ‹λ‹¤. μ κ³µν•΄ μ£Όμ‹  μμ  μ½”λ“μ—μ„λ” **`@GetMapping(value="/name")`** μ–΄λ…Έν…μ΄μ…μ΄ μ‚¬μ©λ λ©”μ„λ“κ°€ **`/api/v1/get-api/name`** κ²½λ΅μ— λ§¤ν•‘λμ–΄ μμµλ‹λ‹¤. μ΄λ” μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ **`/api/v1/get-api/name`** κ²½λ΅μ— λ€ν• GET μ”μ²­μ„ ν•΄λ‹Ή λ©”μ„λ“λ΅ λΌμ°ν…ν•λ„λ΅ μ„¤μ •λμ–΄ μμμ„ μλ―Έν•©λ‹λ‹¤.

λ”°λΌμ„, **`http://localhost:8080/name`**μΌλ΅ μ ‘μ†ν•λ©΄, μ΄ URLμ€ **`getName`** λ©”μ„λ“μ— λ§¤ν•‘λμ–΄ μμ§€ μ•κΈ° λ•λ¬Έμ— μ¤ν”„λ§ λ¶€νΈλ” ν•΄λ‹Ή λ©”μ„λ“λ¥Ό νΈμ¶ν•μ§€ μ•μµλ‹λ‹¤. λ€μ‹ , μ΄ κ²½λ΅μ— λ€ν• λ³„λ„μ μ²λ¦¬κ°€ μ„¤μ •λμ–΄ μμ§€ μ•λ‹¤λ©΄ μ¤ν”„λ§ λ¶€νΈλ” 404 Not Found μ¤λ¥λ¥Ό λ°ν™ν•  κ²ƒμ…λ‹λ‹¤. μ΄λ” μ”μ²­λ URLμ— ν•΄λ‹Ήν•λ” λ¦¬μ†μ¤κ°€ μ„λ²„μ—μ„ μ°Ύμ„ μ μ—†μμ„ λ‚νƒ€λƒ…λ‹λ‹¤.

**`http://localhost:8080/name`** κ²½λ΅λ΅ μ ‘μ†ν–μ„ λ• **`getName`** λ©”μ„λ“λ¥Ό νΈμ¶ν•λ ¤λ©΄, μ¤ν”„λ§ μ»¨νΈλ΅¤λ¬ λ‚΄μ—μ„ ν•΄λ‹Ή κ²½λ΅λ¥Ό **`getName`** λ©”μ„λ“ λλ” λ‹¤λ¥Έ λ©”μ„λ“μ— λ§¤ν•‘ν•΄μ•Ό ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄ λ‹¤μκ³Ό κ°™μ΄ μ„¤μ •ν•  μ μμµλ‹λ‹¤:

```java
@GetMapping(value="/name")
public String getNameSimple() {
    return "Simple name";
}

@GetMapping(value="/api/v1/get-api/name")
public String getName() {
    return "flature";
}
```

μ΄λ ‡κ² ν•λ©΄ **`/name`** κ²½λ΅λ” **`getNameSimple`** λ©”μ„λ“λ΅ λ§¤ν•‘λκ³ , **`/api/v1/get-api/name`**μ€ **`getName`** λ©”μ„λ“λ΅ λ§¤ν•‘λ©λ‹λ‹¤.

> μ΄ν•΄ν•κΈ° μ‰½κ² μ •λ¦¬ν•κ² μµλ‹λ‹¤.
λ§¤κ°λ³€μκ°€ μ—†λ” GET λ©”μ„λ“ κµ¬ν„ν•  λ•, getName λ©”μ„λ“λ¥Ό νΈμ¶ν•λ©΄μ„ λ¦¬ν„΄ κ°’μ΄ λ‚μ¨ μ΄μ λ”
ν•΄λ‹Ή λ©”μ„λ“κ°€ GetController μ•μ— μκΈ° λ•λ¬Έμ…λ‹λ‹¤.
> 

### @PathVariableμ„ ν™μ©ν• GET λ©”μ„λ“

μ‹¤λ¬΄μ—μ„  λ§¤κ°λ³€μλ¥Ό λ°›μ§€ μ•λ” λ©”μ„λ“λ” κ±°μ μ“°μ΄μ§€ μ•λ”λ‹¤.
μ›Ή ν†µμ‹ μ κΈ°λ³Έ λ©μ μ€ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›λ” κ²ƒμ΄κΈ° λ•λ¬Έμ— λ€λ¶€λ¶„ λ§¤κ°λ³€μλ¥Ό λ°›λ” λ©”μ„λ“λ¥Ό μ‘μ„±ν•κ² λ©λ‹λ‹¤.
λ§¤κ°λ³€μλ¥Ό λ°›μ„ λ• μμ£Ό μ“°μ΄λ” λ°©λ²• μ¤‘ ν•λ‚λ” URL μμ²΄μ— κ°’μ„ λ‹΄μ•„ μ”μ²­ν•λ” κ²ƒμ…λ‹λ‹¤.

μμ  5-4) URLμ— κ°’μ„ λ‹΄μ•„ μ „λ‹¬λλ” μ”μ²­μ„ μ²λ¦¬ν•λ” λ°©λ²•(@PathVariableμ„ ν™μ©ν• GET λ©”μ„λ“)

```java
// http://localhost:8080/api/v1/get-api/variable1/{String κ°’}
@GetMapping(value="/variable1/{variable}")
public String getvariable1(@PathVariable String variable){
	return variable;
}
```

`http://localhost:8080/api/v1/get-api/variable1/{String κ°’}` μ”μ²­ μμ‹ urlμ„ λ³΄λ©΄
μ΄ λ©”μ„λ“λ” μ¤‘κ΄„νΈ`{ }` λ΅ ν‘μ‹λ μ„μΉμ κ°’μ„ λ°›μ•„ μ”μ²­ν•λ” κ²ƒμ„ μ• μ μλ‹¤.
(μ‹¤μ  μ”μ²­ μ‹ μ¤‘κ΄„νΈλ” λ“¤μ–΄κ°€μ§€ μ•μΌλ©° κ°’λ§ μ΅΄μ¬)

κ°’μ„ κ°„λ‹¨ν μ „λ‹¬ν•  λ• μ£Όλ΅ μ‚¬μ©ν•λ” λ°©λ²•μ΄λ©°, GET μ”μ²­μ—μ„ λ§μ΄ μ‚¬μ©λλ‹¤.

μ΄λ¬ν• λ°©μ‹μΌλ΅ μ½”λ“λ¥Ό μ‘μ„±ν•  λ•λ” λ‡ κ°€μ§€ μ§€μΌμ•Ό ν•  κ·μΉ™μ΄ μλ‹¤.
@GetMapping μ–΄λ…Έν…μ΄μ…μ κ°’μΌλ΅ URLμ„ μ…λ ¥ν•  λ• μ¤‘κ΄„νΈλ¥Ό μ‚¬μ©ν•΄ μ–΄λ μ„μΉμ—μ„ κ°’μ„ λ°›μ„μ§€ μ§€μ •ν•΄μ•Ό ν•λ‹¤.
λν• λ©”μ„λ“μ λ§¤κ°λ³€μμ™€ κ·Έ κ°’μ„ μ—°κ²°ν•κΈ° μ„ν•΄ @PathVariableμ„ λ…μ‹ν•λ©°, @GetMapping μ–΄λ…Έν…μ΄μ…κ³Ό @PathVariableμ— μ§€μ •λ λ³€μμ μ΄λ¦„μ„ λ™μΌν•κ² λ§μ¶°μ•Ό ν•©λ‹λ‹¤.

λ§μ•½ @GetMapping μ–΄λ…Έν…μ΄μ…μ— μ§€μ •ν• λ³€μμ μ΄λ¦„κ³Ό λ©”μ„λ“ λ§¤κ°λ³€μμ μ΄λ¦„μ„ λ™μΌν•κ² λ§μ¶”κΈ° μ–΄λ µλ‹¤λ©΄
@PathVariable λ’¤μ— κ΄„νΈλ¥Ό μ—΄μ–΄ @GetMapping μ–΄λ…Έν…μ΄μ…μ λ³€μλ…μ„ μ§€μ •ν•λ©΄ λλ‹¤.

μμ  5-5) @PathVariableμ— λ³€μλ…μ„ λ§¤ν•‘ν•λ” λ°©λ²•

```java
// http://localhost:8080/api/v1/get-api/variable2/{String κ°’}
@GetMapping(value = "/variable2/{variable}")
public String getVariable2(@PathVariable("variable")String var){
	return var;
}
```

2λ²μ§Έ μ¤„μ— μ ν€ μλ” λ³€μλ…μΈ variableκ³Ό 3λ² μ¤„μ— μ ν λ§¤κ°λ³€μλ…μΈ varκ°€ μ„λ΅ μΌμΉν•μ§€ μ•λ” μƒν™©μ—μ„ λ‘ κ°’μ„ λ§¤ν•‘ν•λ” λ°©λ²•μ„ λ³΄μ—¬μ¤€λ‹¤. @PathVariableμ—λ” λ³€μμ μ΄λ¦„μ„ νΉμ •ν•  μ μλ” value μ”μ†κ°€ μ΅΄μ¬ν•λ©°, μ΄ μ„μΉμ— λ³€μ μ΄λ¦„μ„ μ •μν•λ©΄ λ§¤κ°λ³€μμ™€ λ§¤ν•‘ν•  μ μλ‹¤.
3λ² μ¤„μ @PathVariable μ‚¬μ©λ²•μ„ μΆ€ λ” ν’€μ–΄μ“°λ©΄ λ‹¤μκ³Ό κ°™λ‹¤.

```java
public String getVariable2(@PathVariable(value="variable") String var){
```

## @RequestParamμ„ ν™μ©ν• GET λ©”μ„λ“

GETμ”μ²­μ„ κµ¬ν„ν•  λ• url κ²½λ΅μ— κ°’μ„ λ‹΄μ•„ μ”μ²­μ„ λ³΄λ‚΄λ” λ°©λ²• μ™Έμ—λ„ μΏΌλ¦¬ ν•μ‹μΌλ΅ κ°’μ„ μ „λ‹¬ν•  μλ„ μμµλ‹λ‹¤.

μ¦‰, uriμ—μ„ β€?β€™λ¥Ό κΈ°μ¤€μΌλ΅ μ°μΈ΅μ— β€{key}={value}β€™ ν•νƒλ΅ κµ¬μ„±λ μ”μ²­μ„ μ „μ†΅ν•λ” λ°©λ²•μ…λ‹λ‹¤.

μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ΄ κ°™μ€ ν•μ‹μ„ μ²λ¦¬ν•λ ¤λ©΄ @RequestParamμ„ ν™μ©ν•λ©΄ λλ‹¤.
μ•„λμ™€ κ°™μ΄ λ§¤κ°λ³€μ λ¶€λ¶„μ— @RequestParam μ–΄λ…Έν…μ΄μ…μ„ λ…μ‹ν•΄ μΏΌλ¦¬ κ°’κ³Ό λ§¤ν•‘ν•λ©΄ λ©λ‹λ‹¤.

μμ  5-6) @RequestParamμ„ ν™μ©ν• GET λ©”μ„λ“ κµ¬ν„

```java
// http://localhost:8080/api/v1/get-api/request1?name=value&email=value2&oraganication=value3
@GetMapping(value ="/request1")
public String getRequestParam1(
	@RequestParam String name,
	@RequestParam String email,
	@RequestParam String organization){
	return name + " " + email + " "+organization;
}
```

1λ² μ¤„μ„ λ³΄λ©΄ β€?β€™ μ¤λ¥Έμ½μ— μΏΌλ¦¬μ¤νΈλ§(query string)μ΄ λ…μ‹λΌ μμµλ‹λ‹¤.
μΏΌλ¦¬μ¤νΈλ§μ—λ” ν‚¤(λ³€μμ μ΄λ¦„)κ°€ μκΈ° λ•λ¬Έμ— μ΄ κ°’μ„ κΈ°μ¤€μΌλ΅ λ©”μ„λ“μ λ§¤κ°λ³€μμ— μ΄λ¦„μ„ λ§¤ν•‘ν•λ©΄ κ°’μ„ κ°€μ Έμ¬ μ μμµλ‹λ‹¤.
ν‚¤μ™€ @RequestParam λ’¤μ— μ λ” μ΄λ¦„μ„ λ™μΌν•κ² μ„¤μ •ν•κΈ° μ–΄λ µλ‹¤λ©΄ @PathVariable μ—μ μ—μ„ μ‚¬μ©ν• λ°©λ²•μ²λΌ value μ”μ†λ΅ λ§¤ν•‘ν•©λ‹λ‹¤.

λ§μ•½ μΏΌλ¦¬μ¤νΈλ§μ— μ–΄λ–¤ κ°’μ΄ λ“¤μ–΄μ¬μ§€ λ¨λ¥Έλ‹¤λ©΄ μ•„λμ™€ κ°™μ΄ Map κ°μ²΄λ¥Ό ν™μ©ν•  μλ„ μμµλ‹λ‹¤.

μμ  5-7) @RequestParamκ³Ό Mapμ„ μ΅°ν•©ν• GET method

```java
//http://localhost:8080/api/v1/get-api/request2?key1=value1&key2=value2
@GetMapping(value= "/request2")
public String getRequestParam2(@RequestParam Map<String, String>param){
	StringBuilder sb = new StringBuiler();
	
	param.entrySet().forEach(map -> {
		sb.append(map.getKey() + " : " + map.getValue() + "\n");
		});

		return sb.toString();
}
```

μ„μ ν•νƒλ΅ μ½”λ“λ¥Ό μ‘μ„±ν•λ©΄ κ°’μ— μƒκ΄€μ—†μ΄ μ”μ²­μ„ λ°›μ„ μ μμµλ‹λ‹¤.
μλ¥Ό λ“¤λ©΄, νμ› κ°€μ… κ΄€λ ¨ APIμ—μ„ μ‚¬μ©μλ” νμ› κ°€μ…μ„ ν•λ©΄μ„ ID κ°™μ€ ν•„μ ν•­λ©μ΄ μ•„λ‹ μ·¨λ―Έ κ°™μ€ μ„ νƒ ν•­λ©μ— λ€ν•΄μ„λ” κ°’μ„ κΈ°μ…ν•μ§€ μ•λ” κ²½μ°κ°€ μμµλ‹λ‹¤.
μ΄λ¬ν• κ²½μ°μ—λ” λ§¤κ°λ³€μμ ν•­λ©μ΄ μΌμ •ν•μ§€ μ•μ„ μ μμ–΄ Map κ°μ²΄λ΅ λ°›λ” κ²ƒμ΄ ν¨μ¨μ μ…λ‹λ‹¤.

<aside>
π“ ***URIμ™€ URLμ μ°¨μ΄***
URLμ€ μ°λ¦¬κ°€ ν”ν λ§ν•λ” μ›Ή μ£Όμ†λ¥Ό μλ―Έν•λ©°,
λ¦¬μ†μ¤κ°€ μ–΄λ””μ— μλ”μ§€ μ•λ ¤μ£ΌκΈ° μ„ν• κ²½λ΅λ¥Ό μλ―Έν•©λ‹λ‹¤.
λ°λ©΄ URIλ” νΉμ • λ¦¬μ†μ¤λ¥Ό μ‹λ³„ν•  μ μλ” μ‹λ³„μλ¥Ό μλ―Έν•©λ‹λ‹¤.
μ›Ήμ—μ„λ” URLμ„ ν†µν•΄ λ¦¬μ†μ¤κ°€ μ–΄λ μ„λ²„μ— μ„μΉν•΄ μλ”μ§€ μ• μ μμΌλ©°, κ·Έ μ„λ²„μ— μ ‘κ·Όν•΄μ„
λ¦¬μ†μ¤μ— μ ‘κ·Όν•κΈ° μ„ν•΄μ„λ” λ€λ¶€λ¶„ URIκ°€ ν•„μ”ν•©λ‹λ‹¤.

</aside>

## DTO κ°μ²΄λ¥Ό ν™μ©ν• GET λ©”μ„λ“

### DTOλ€ ?

DTOλ” Data Transfer Objectμ μ•½μλ΅, λ‹¤λ¥Έ λ μ΄μ–΄ κ°„μ λ°μ΄ν„° κµν™μ— ν™μ©λλ‹¤.
κ°„λµν•κ² μ„¤λ…ν•λ©΄ κ° ν΄λμ¤ λ° μΈν„°νμ΄μ¤λ¥Ό νΈμ¶ν•λ©΄μ„ μ „λ‹¬ν•λ” λ§¤κ°λ³€μλ΅ μ‚¬μ©λλ” λ°μ΄ν„° κ°μ²΄μ…λ‹λ‹¤.

DTOλ” λ°μ΄ν„°λ¥Ό κµν™ν•λ” μ©λ„λ΅λ§ μ‚¬μ©ν•λ” κ°μ²΄μ΄κΈ° λ•λ¬Έμ— DTOμ—λ” λ³„λ„μ λ΅μ§μ΄ ν¬ν•¨λμ§€ μ•μµλ‹λ‹¤.
ch06μ—μ„  DTO ν΄λμ¤μ μ—­ν• μ„ μΆ€ λ” μμ„Έν λ‹¤λ£° μμ •μ…λ‹λ‹¤.

<aside>
π“ ***DTOμ™€ VO***
DTOμ™€ VO(value object)μ μ—­ν• μ„ μ„λ΅ μ—„λ°€ν•κ² κµ¬λ¶„ν•μ§€ μ•κ³  μƒμ”ν•  λ–„κ°€ λ§μµλ‹λ‹¤.
μ΄λ ‡κ² ν•΄λ„ λ€λ¶€λ¶„μ μƒν™©μ—μ„λ” ν° λ¬Έμ κ°€ λ°μƒν•μ§€ μ•μ§€λ§ μ •ν™•ν•κ² κµ¬λ¶„ν•μλ©΄ μ—­ν• κ³Ό μ‚¬μ©λ²•μ—μ„ μ°¨μ΄κ°€ μλ‹¤.
λ¨Όμ € VOλ” λ°μ΄ν„° κ·Έ μμ²΄λ΅ μλ―Έκ°€ μλ” κ°μ²΄λ¥Ό μλ―Έν•λ‹¤.
VOμ κ°€μ¥ νΉμ§•μ μΈ λ¶€λ¶„μ€ μ½κΈ°μ „μ©(read-only)μΌλ΅ μ„¤κ³„ν•λ‹¤λ” μ μ΄λ‹¤.
μ¦‰, VOλ” κ°’μ„ λ³€κ²½ν•  μ μ—†κ² λ§λ“¤μ–΄ λ°μ΄ν„°μ μ‹ λΆ°μ„±μ„ μ μ§€ν•΄μ•Ό ν•λ‹¤λ” κ²ƒμ…λ‹λ‹¤.
DTOλ” λ°μ΄ν„° μ „μ†΅μ„ μ„ν•΄ μ‚¬μ©λλ” λ°μ΄ν„° μ»¨ν…μ΄λ„μ…λ‹λ‹¤.
μ¦‰, κ°™μ€ μ• ν”λ¦¬μΌ€μ΄μ… λ‚΄λ¶€μ—μ„ μ‚¬μ©λλ” κ²ƒμ΄ μ•„λ‹λΌ λ‹¤λ¥Έ μ„λ²„(μ‹μ¤ν…)λ΅ μ „λ‹¬ν•λ” κ²½μ°μ— μ‚¬μ©λ©λ‹λ‹¤
λ³Έλ¬Έμ—μ„λ” DTOκ°€ λ‹¤λ¥Έ λ μ΄μ–΄ κ°„ λ°μ΄ν„° κµν™μ— ν™μ©λλ‹¤κ³  μ΄ μ „μ— λ§ν–μµλ‹λ‹¤.
μ—¬κΈ°μ„ λ μ΄μ–΄λ” μ• ν”λ¦¬μΌ€μ΄μ… λ‚΄λ¶€μ— μ •μλ λ μ΄μ–΄μΌ μλ„ μκ³  μΈν”„λΌ κ΄€μ μ—μ„μ μ„λ²„ μ•„ν‚¤ν…μ² μƒμ λ μ΄μ–΄μΌ μλ„ μμµλ‹λ‹¤. μ΄λ¬ν• κ°λ…μ νΌμ©μ΄ DTOμ™€ VOμ μ°¨μ΄λ¥Ό νλ¦¬κ² λ§λ“­λ‹λ‹¤.
μ΄ κ°™μ€ μ©μ–΄μ™€ κ°λ…μ„ μ •ν™•ν•κ² μ‚¬μ©ν•λ” κ²ƒλ„ μ¤‘μ”ν•μ§€λ§ ν€ λ‚΄λ¶€μ μΌλ΅ μ©μ–΄λ‚ κ°λ…μ μ—­ν•  λ²”μ„λ¥Ό μ„¤μ •ν•κ³  ν•©μν•΄μ„ μ‚¬μ© ν•λ‹¤λ©΄ μ—…λ¬΄λ¥Ό ν¨μ¨μ μΌλ΅ μ²λ¦¬ν•λ” λ° λ„μ›€μ΄ λ©λ‹λ‹¤.

</aside>

μμ  5-8) DTO κ°μ²΄λ” μ•„λμ™€ κ°™μ΄ μ‘μ„±ν•  μ μμµλ‹λ‹¤.

```java
pulbic class MemberDto
	private String name;
	private String email;
	private String organization;
	
	public String getName(){
		return name;
		}
	public void setName(String name){
		this.name = name;
		}
	public String getEmail(){
		return email;
		}
	public void setEmail(String email){
		this.email =email;
		}
		public String getOrganization(){
			return organization;
		}
		public void setOrganization(String organization)
				this.organization = organization;
		}
		
		@Override
		public String toString(){
			return "MemberDto("+
				"name='"+name+'\''+
				", email='" + email + '\'' +
				", organization='" + organization +'\'' +
				'}';
		}
}
```

DTO ν΄λμ¤μ—λ” μ „λ‹¬ν•κ³ μ ν•λ” ν•„λ“ κ°μ²΄λ¥Ό μ„ μ–Έν•κ³  getter/setter λ©”μ„λ“λ¥Ό κµ¬ν„ν•©λ‹λ‹¤.
DTOν΄λμ¤μ— μ„ μ–Έλ ν•„λ“λ” μ»¨νΈλ΅¤λ¬μ λ©”μ„λ“μ—μ„ μΏΌλ¦¬ νλΌλ―Έν„°μ ν‚¤μ™€ λ§¤ν•‘λ©λ‹λ‹¤.
μ¦‰, μΏΌλ¦¬μ¤νΈλ§μ ν‚¤κ°€ μ •ν•΄μ Έ μμ§€λ§ λ°›μ•„μ•Ό ν•  νλΌλ―Έν„°κ°€ λ§μ„ κ²¨μ›…μ—λ” μ•„λμ™€ κ°™μ΄ DTO κ°μ²΄λ¥Ό ν™μ©ν•΄ μ½”λ“μ κ°€λ…μ„±μ„ λ†’μΌ μ μμµλ‹λ‹¤.

μμ  5-9) DTOκ°μ²΄λ¥Ό ν™μ©ν• GET method

```java
//http://localhost:8080/api/v1/get-api/request3?name=value1&email=value1&email=value2&organization=value3
@GetMapping(value="/reqeust3")
public String getRequestParam3(MemberDto memberDto){
	//return memberDto.getName() + " " +memberDto.getEmail() + " " + memberDto.getOrganization();
	return memberDto.toString();
}	
```

μ£Όμ„λ¬Έμ€ μμ  5.6κ³Ό λ™μΌν• μΏΌλ¦¬μ¤νΈλ§μ„ κ°€μ§‘λ‹λ‹¤.
λ‹¤λ§ 3λ² μ¤„κ³Ό κ°™μ΄ μμ  5.6μ— λΉ„ν•΄ μ½”λ“μ μ–‘μ„ μ¤„μΌ μ μμµλ‹λ‹¤.

# POST API

μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ ν†µν•΄ db λ“±μ μ €μ¥μ†μ— λ¦¬μ†μ¤λ¥Ό μ €μ¥ν•  λ• μ‚¬μ©λλ” apiμ…λ‹λ‹¤.
μ•μ—μ„ μ‚΄ν΄λ³Έ GET APIμ—μ„λ” URLμ κ²½λ΅λ‚ νλΌλ―Έν„°μ— λ³€μλ¥Ό λ„£μ–΄ μ”μ²­μ„ λ³΄λƒμ§€λ§ POST APIμ—μ„λ” μ €μ¥ν•κ³ μ ν•λ” λ¦¬μ†μ¤λ‚ κ°’μ„ HTTP bodyμ— λ‹΄μ•„ μ„λ²„μ— μ „λ‹¬ν•©λ‹λ‹¤.
κ·Έλμ„ URIκ°€ GET APIμ— λΉ„ν•΄ κ°„λ‹¨ν•©λ‹λ‹¤.

POST APIλ¥Ό λ§λ“¤κΈ° μ„ν•΄ μ°μ„  @RequestMapping μ–΄λ…Έν…μ΄μ…μ„ μ΄μ©ν•΄ κ³µλ™ URLμ„ μ„¤μ •ν•΄μ•Ό ν•©λ‹λ‹¤.

μμ  5-10) μ»¨νΈλ΅¤λ¬ ν΄λμ¤μ—μ„ κ³µν†µ URL tjfwjd

```java
@RestController
@RequestMapping("/api/v1/post-api")
public class PostController{
}
```

### @RequestMapping

POST APIμ—μ„ @RequestMappingμ„ μ‚¬μ©ν•λ” λ°©λ²•μ€ GET APIμ™€ ν¬κ² λ‹¤λ¥΄μ§€ μ•λ”λ‹¤.
μ”μ²­ μ²λ¦¬ λ©”μ„λ“λ¥Ό μ •μν•  λ• μ•„λμ™€ κ°™μ΄ method μ”μ†λ¥Ό RequestMethod.POSTλ΅ μ„¤μ •ν•λ” λ¶€λ¶„μ„ μ μ™Έν•λ©΄ GET APIμ™€ λ™μΌν•©λ‹λ‹¤.

μμ  5-11) @RequestMapping μ‚¬μ© μ

```java
@RequestMapping(value = "/doamin", method = RequestMethod.POST)
public String postExample(){
	return "Hello Post API";
}
```

### @RequestBodyλ¥Ό ν™μ©ν• POST λ©”μ„λ“ κµ¬ν„

μμ  5-11) μ—μ„λ” λ³„λ„μ λ¦¬μ†μ¤λ¥Ό λ°›μ§€ μ•κ³  λ‹¨μ§€ POST μ”μ²­λ§ λ°›λ” λ©”μ„λ“λ¥Ό κµ¬ν„ν–λ‹¤.
μΌλ°μ μΌλ΅ POST ν•μ‹μ μ«μ—‰μ€ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— λ¦¬μ†μ¤λ¥Ό μ €μ¥ν•λ” λ° μ‚¬μ©ν•©λ‹λ‹¤.
κ·Έλ¬λ―€λ΅ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ νΈλν”½μ— κ°’μ΄ ν¬ν•¨λΌ μμµλ‹λ‹¤.
μ¦‰, POST μ”μ²­μ—μ„λ” λ¦¬μ†λ¥Ό λ‹΄κΈ° μ„ν•΄ HTTP Bodyμ— κ°’μ„ λ„£μ–΄ μ „μ†΅ν•©λ‹λ‹¤.

Body μμ—­μ— μ‘μ„±λλ” κ°’μ€ μΌμ •ν• ν•νƒλ¥Ό μ·¨ν•©λ‹λ‹¤.
μΌλ°μ μΌλ΅ JSON ν•μ‹μΌλ΅ μ „μ†΅λλ©°, μ΄ μ±…μ—μ„λ„ κ°€μ¥ λ€μ¤‘μ μΌλ΅ μ‚¬μ©λλ” JSON ν•μ‹μΌλ΅ κ°’μ„ μ£Όκ³  λ°›μ„ μμ •μ…λ‹λ‹¤. μ΄λ ‡κ² μ„λ²„μ— λ“¤μ–΄μ¨ μ”μ²­μ€ μ•„λμ™€ κ°™μ΄ μ²λ¦¬ν•  μ μμµλ‹λ‹¤.

μμ  5-12) @RequestBodyμ™€ Mapμ„ ν™μ©ν• POST API κµ¬ν„

```java
// http://localhost:8080/api/v1/post-api/member
@PostMapping(value= "/member")
public String postMember(@RequestBody Map<String, Object>postData){
	StringBuilder sb = new StringBuilder();
	
	postData.entrySet().forEach(map -> {
		sb.append(map.getKey() + " : " + map.getvalue() + "\n");
	});
	return sb.toString();
	}
```

2λ² μ¤„μ„ λ³΄λ©΄ @RequestMapping λ€μ‹  @PostMappingμ„ μ‚¬μ©ν–λ‹¤.
μ΄ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄ method μ”μ†λ¥Ό μ •μν•μ§€ μ•μ•„λ„ λκΈ° λ•λ¬Έμ΄λ‹¤.
κ·Έλ¦¬κ³  3λ² μ¤„μ—μ„  @RequestBodyλΌλ” μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν—€λ”λ°,
@RequestBodyλ” HTTP μ  Body λ‚΄μ©μ„ ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ΄ μ§€μ •λ κ°μ²΄μ— λ§¤ν•‘ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.

<aside>
π“ ***JSON μ΄λ€?*** (Java Script Object Notation)
μλ°”μ¤ν¬λ¦½νΈμ κ°μ²΄ λ¬Έλ²•μ„ λ”°λ¥΄λ” λ¬Έμ κΈ°λ°μ λ°μ΄ν„° ν¬λ§·μ…λ‹λ‹¤.
ν„μ¬λ” μλ°”μ¤ν¬λ¦½νΈ μ™Έμ—λ„ λ‹¤μμ ν”„λ΅κ·Έλλ° ν™κ²½μ—μ„ μ‚¬μ©ν•©λ‹λ‹¤.
λ€μ²΄λ΅ λ„¤νΈμ›ν¬λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  λ• μ‚¬μ©ν•λ©°, λ¬Έμμ—΄ ν•νƒλ΅ μ‘μ„±λκΈ° λ•λ¬Έμ— νμ‹±ν•κΈ°λ„ μ‰½λ‹¤λ” μ¥μ μ΄ μ‡μµλ‹λ‹¤.

</aside>

Map κ°μ²΄λ” μ”μ²­μ„ ν†µν•΄ μ–΄λ–¤ κ°’μ΄ λ“¤μ–΄μ¤κ² λ μ§€ νΉμ •ν•κΈ° μ–΄λ ¤μΈ λ• μ£Όλ΅ μ‚¬μ©ν•©λ‹λ‹¤.
μ”μ²­ λ©”μ‹μ§€μ— λ“¤μ–΄κ° κ°’μ΄ μ •ν•΄μ Έ μλ‹¤λ©΄ μμ  5.13κ³Ό κ°™μ΄ DTOκ°μ²΄λ¥Ό λ§¤κ°λ³€μλ΅ μ‚Όμ•„ μ‘μ„±ν•  μ μμµλ‹λ‹¤.
μ΄ μμ μ DTO κ°μ²΄λ” μμ 5.8μ—μ„ μ‚¬μ©ν• κ²ƒκ³Ό λ™μΌν•©λ‹λ‹¤.

```java
// http://localhost:8080/api/v1/post-api/member2
@PostMapping(value = "/member2")
public String postMemberDto(@RequestBody MemberDto memberDto){
	return memberDto.toString();
}
```

μ„μ™€ κ°™μ΄ μ‘μ„±ν•λ©΄ MemberDtoμ λ©¤λ²„ λ³€μλ¥Ό μ”μ²­ λ©”μ‹μ§€μ ν‚¤μ™€ λ§¤ν•‘ν•΄ κ°’μ„ κ°€μ Έμµλ‹λ‹¤.

νμ›κ°€μ…ν•λ©΄μ„ id κ°™μ€ ν•„μ ν•­λ©μ΄ μ•„λ‹ μ·¨λ―Έκ°™μ€ μ„ νƒ ν•­λ©μ— λ€ν•΄μ„λ” κ°’μ„ κΈ°μ…ν•μ§€ μ•λ” κ²½μ°κ°€ μ΅΄μ¬ν•©λ‹λ‹¤.
μ΄λ¬ν• κ²½μ°μ—λ” λ§¤κ°λ³€μμ ν•­λ©μ΄ μΌμ •ν•μ§€ μ•μ„ μ μμ–΄ Mapκ°μ²΄λ΅ λ°›λ” κ²ƒμ΄ λ” ν¨μ¨μ μ΄λ‹¤.

### β†’ μ΄λ¥Ό μ½”λ“λ΅ λ‚νƒ€λ‚Έλ‹¤λ©΄ ?

μ¤ν”„λ§ λ¶€νΈμ—μ„λ” μ£Όλ΅ **`@RequestParam`** μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ HTTP μ”μ²­ νλΌλ―Έν„°λ¥Ό μ»¨νΈλ΅¤λ¬ λ©”μ„λ“μ λ§¤κ°λ³€μλ΅ λ°›μ„ μ μμµλ‹λ‹¤. μ„ νƒμ μΈ λ§¤κ°λ³€μλ“¤μ„ μ²λ¦¬ν•  λ•λ” **`Map<String, String>`** νƒ€μ…μ„ μ‚¬μ©ν•μ—¬ ν•„μκ°€ μ•„λ‹ λ§¤κ°λ³€μλ“¤μ„ μ μ—°ν•κ² κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤. μ•„λ μμ‹μ—μ„λ” νμ› κ°€μ… μ‹ IDλ” ν•„μ ν•­λ©μ΄μ§€λ§, μ·¨λ―Έλ” μ„ νƒμ  ν•­λ©μΌλ΅ μ²λ¦¬ν•λ” λ°©λ²•μ„ λ³΄μ—¬μ¤λ‹λ‹¤.

μ¤ν”„λ§ λ¶€νΈ μ»¨νΈλ΅¤λ¬ μμ‹

```java
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;
import java.util.Map;

@RestController
public class RegistrationController {

    @PostMapping("/register")
    public String registerUser(@RequestParam("id") String id, @RequestParam Map<String, String> optionalParams) {
        // ν•„μ νλΌλ―Έν„° μ²λ¦¬
        System.out.println("ID: " + id);

        // μ„ νƒμ  νλΌλ―Έν„° μ²λ¦¬
        if (optionalParams.containsKey("hobby")) {
            System.out.println("Hobby: " + optionalParams.get("hobby"));
        }

        // νμ›κ°€μ… λ΅μ§ μ¶”κ°€...

        return "Registration successful!";
    }
}

```

μ„μ μ½”λ“μ—μ„ **`@RequestParam("id") String id`**λ” ν•„μ νλΌλ―Έν„° 'id'λ¥Ό μ²λ¦¬ν•κ³ , **`@RequestParam Map<String, String> optionalParams`**λ” λ¨λ“  λ‚λ¨Έμ§€ μ„ νƒμ  νλΌλ―Έν„°λ“¤μ„ **`Map`** κ°μ²΄μ— μ €μ¥ν•©λ‹λ‹¤. μ΄ **`Map`**μ€ ν‚¤-κ°’ μμΌλ΅ κµ¬μ„±λμ–΄ μμΌλ©°, μ‚¬μ©μκ°€ μ κ³µν•λ” μ„ νƒμ  νλΌλ―Έν„°λ“¤μ„ λ™μ μΌλ΅ μ²λ¦¬ν•  μ μμµλ‹λ‹¤. μ΄λ ‡κ² ν•λ©΄ μ–΄λ–¤ μ„ νƒμ  νλΌλ―Έν„°κ°€ λ“¤μ–΄μ¬μ§€ λ¨λ¥΄λ” μƒν™©μ—μ„λ„ μ μ—°ν•κ² λ€μ‘ν•  μ μμµλ‹λ‹¤.

## REST API λ…μ„Έλ¥Ό λ¬Έμ„ν™” - Swagger

apiλ¥Ό κ°λ°ν•λ©΄ λ…μ„Έλ¥Ό κ΄€λ¦¬ν•΄μ•Ό ν•λ‹¤.
λ…μ„Έλ€ ν•΄λ‹Ή apiκ°€ μ–΄λ–¤ λ΅μ§μ„ μν–‰ν•λ”μ§€ μ„¤λ…ν•κ³  μ΄ λ΅μ§μ„ μν–‰ν•κΈ° μ„ν•΄ μ–΄λ–¤ κ°’μ„ μ”μ²­ν•λ©°,
μ΄μ— λ”°λ¥Έ μ‘λ‹µ κ°’μΌλ΅λ” λ¬΄μ—‡μ„ λ°›μ„ μ μλ”μ§€λ¥Ό μ •λ¦¬ν• μλ£μ΄λ‹¤.

### κ·Έλ ‡λ‹¤λ©΄ Swaggerλ€ ?

apiλ” κ°λ° κ³Όμ •μ—μ„ κ³„μ† λ³€κ²½λλ―€λ΅ μ‘μ„±ν• λ…μ„Έ  λ¬Έμ„λ΅ μ£ΌκΈ°μ μΈ μ—…λ°μ΄νΈκ°€ ν•„μ”ν•λ‹¤.
λν• λ…μ„Έ μ‘μ—…μ€ λ²κ±°λ΅­κ³  μ‹κ°„μ†μ”κ°€ λ§μ΄ κ±Έλ¦¬κΈ° λ•λ¬Έμ— μ¤μ›¨κ±°λ¥Ό μ κ·Ή μ‚¬μ©ν•λ” μ¶”μ„Έλ‹¤.

μ¤μ›¨κ±°λ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” μμ΅΄μ„±μ„ μ¶”κ°€ν•΄μ•Όν•λ‹¤.

(λ©”μ΄λΈμ κ²½μ° pom.xml νμΌμ— μμ΅΄μ„± μ¶”κ°€) (gradle μ—μ„  build.gradle μ— μμ΅΄μ„± μ¶”κ°€)

μ¤μ›¨κ±°λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ μ½”λ“λ¥Ό μ„¤μ •ν•΄μ•Ό ν•λ‹¤.
β†’ μ™ ??? , μ™ μ„¤μ •ν•΄μ•Ό ν•λ”κ±°μ§€? β†’ κΈ°λ³Έμ„¤μ •μ΄ μ™„λ£λλ©΄ localohst:ν¬νΈλ²νΈ/swagger-ui-html λ΅ μ ‘μ†ν•λ©΄ λλ‹¤.

μ¤μ›¨κ±°λ¥Ό λ” μ ν™μ©ν•κΈ° μ„ν•΄

@RequestParamμ„ ν™μ©ν• GET λ©”μ„λ“

κ·Έλ ‡λ‹¤λ©΄, μ¤μ›¨κ±°λ¥Ό μ‚¬μ©ν•λ‹¤λ©΄ λ¨λ“  DTO ν΄λμ¤μ λ©”μ„λ“λ¥Ό λ§¤κ°λ³€μλ΅ ν™μ©ν•κΈ° μ„ν•΄ @RequestParam μ–΄λ…Έν…μ΄μ…μ„ μ¨μ•Όν•λ” κ²ƒμΌκΉ ?

## μ •λ¦¬

### **1. μ™ μ¤μ›¨κ±°λ¥Ό μ„¤μ •ν•΄μ•Ό ν•λ”κ°€?**

μ¤μ›¨κ±°λ” API λ¬Έμ„λ¥Ό μλ™μΌλ΅ μƒμ„±ν•΄μ£Όλ” λ„κµ¬λ΅, κ°λ°μκ°€ APIμ κµ¬μ΅°λ¥Ό λ” μ‰½κ² μ΄ν•΄ν•κ³ , ν…μ¤νΈν•  μ μλ„λ΅ λ„μ™€μ¤λ‹λ‹¤. μ¤μ›¨κ±°λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ λ‡ κ°€μ§€ μ„¤μ •μ„ ν•΄μ•Ό ν•λ”λ°, μ΄λ” μ¤μ›¨κ±°κ°€ ν”„λ΅μ νΈμ API μ—”λ“ν¬μΈνΈλ“¤μ„ μΈμ‹ν•κ³  λ¬Έμ„ν™”ν•κΈ° μ„ν•΄ ν•„μ”ν• λ©”νƒ€λ°μ΄ν„°λ¥Ό μμ§‘ν•  μ μλ„λ΅ ν•κΈ° μ„ν•¨μ…λ‹λ‹¤. μ¤μ›¨κ±° μ„¤μ •μ„ ν†µν•΄ API κ°λ°μ ν¬λ…μ„±κ³Ό ν¨μ¨μ„±μ„ λ†’μΌ μ μμµλ‹λ‹¤.

μ¤μ›¨κ±°λ¥Ό μ„¤μ •ν•λ©΄ APIμ— λ€ν• μ •λ³΄(μ: κ²½λ΅, λ§¤κ°λ³€μ, HTTP λ©”μ„λ“, μ‘λ‹µ λ“±)λ¥Ό μλ™μΌλ΅ νμ•…ν•μ—¬ μ‚¬μ©μκ°€ μ‰½κ² APIλ¥Ό ν…μ¤νΈν•κ³  λ¬Έμ„ν™”ν•  μ μκ² ν•΄μ¤λ‹λ‹¤. μ„¤μ •μ΄ μ™„λ£λλ©΄ κΈ°λ³Έμ μΌλ΅ **`localhost:ν¬νΈλ²νΈ/swagger-ui.html`** μ£Όμ†λ΅ μ ‘μ†ν•μ—¬ μƒμ„±λ API λ¬Έμ„λ¥Ό λ³Ό μ μμµλ‹λ‹¤.

### **2. μ¤μ›¨κ±°λ¥Ό λ” μ ν™μ©ν•κΈ° μ„ν• λ°©λ²•**

μ¤μ›¨κ±°λ¥Ό ν†µν•΄ APIλ¥Ό λ” μ λ¬Έμ„ν™”ν•κ³  μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” λ‹¤μκ³Ό κ°™μ€ λ°©λ²•μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤:

- **API λ©”μ„λ“μ— μ μ ν• μ–΄λ…Έν…μ΄μ… μ‚¬μ©**: **`@ApiOperation`**, **`@ApiParam`** λ“± μ¤μ›¨κ±° μ „μ© μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ λ©”μ„λ“λ‚ λ§¤κ°λ³€μμ μ„¤λ…μ„ μ¶”κ°€ν•  μ μμµλ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μƒμ„±λλ” λ¬Έμ„μ κ°€λ…μ„±κ³Ό μ μ©μ„±μ„ λ†’μΌ μ μμµλ‹λ‹¤.
- **μ‘λ‹µ λ° μ”μ²­ κ°μ²΄ λ¨λΈλ§**: μ”μ²­κ³Ό μ‘λ‹µμ— μ‚¬μ©λλ” λ¨λΈ(DTO)μ ν•„λ“μ— **`@ApiModelProperty`** μ–΄λ…Έν…μ΄μ…μ„ μ¶”κ°€ν•μ—¬, κ° ν•„λ“μ— λ€ν• μ„¤λ…μ„ μ κ³µν•  μ μμµλ‹λ‹¤.

### **3. λ¨λ“  DTO ν΄λμ¤μ λ©”μ„λ“λ¥Ό λ§¤κ°λ³€μλ΅ ν™μ©ν•κΈ° μ„ν•΄ @RequestParam μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•΄μ•Ό ν•λ‚?**

**`@RequestParam`**μ€ μ£Όλ΅ κ°„λ‹¨ν• μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ²λ¦¬ν•  λ• μ‚¬μ©ν•©λ‹λ‹¤. λ°λ©΄, λ³µμ΅ν• λ°μ΄ν„° κµ¬μ΅°λ¥Ό μ „μ†΅ν•΄μ•Ό ν•  λ•λ” DTO(Data Transfer Object) ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤. DTOλ¥Ό μ‚¬μ©ν•λ©΄ μ—¬λ¬ λ°μ΄ν„° ν•„λ“λ¥Ό ν•λ‚μ κ°μ²΄λ΅ κ·Έλ£Ήν™”ν•μ—¬ API μ”μ²­ λ° μ‘λ‹µμ„ λ” μ²΄κ³„μ μΌλ΅ κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤.

μ¤ν”„λ§ λ¶€νΈμ—μ„λ” **`@ModelAttribute`**λ‚ **`@RequestBody`** μ–΄λ…Έν…μ΄μ…μ„ μ΄μ©ν•μ—¬ DTO κ°μ²΄λ¥Ό λ©”μ„λ“μ λ§¤κ°λ³€μλ΅ μ‚¬μ©ν•  μ μμµλ‹λ‹¤. **`@RequestBody`**λ” μ£Όλ΅ JSONμ΄λ‚ XMLκ³Ό κ°™μ€ λ³µμ΅ν• λ°μ΄ν„° κµ¬μ΅°λ¥Ό λ°›μ„ λ• μ‚¬μ©ν•κ³ , **`@ModelAttribute`**λ” μ£Όλ΅ νΌ λ°μ΄ν„°λ¥Ό λ°›μ„ λ• μ‚¬μ©λ©λ‹λ‹¤.

μ¤μ›¨κ±°λ¥Ό μ‚¬μ©ν•  λ•λ” μ΄λ° DTO ν΄λμ¤λ¥Ό μ‚¬μ©ν•μ—¬ APIμ λ§¤κ°λ³€μλ¥Ό μ •μν•λ” κ²ƒμ΄ μΆ‹μΌλ©°, μ¤μ›¨κ±°μ—μ„λ” μ΄λ¬ν• DTOλ¥Ό ν†µν•΄ μλ™μΌλ΅ λ¬Έμ„μ μ”μ²­ λ° μ‘λ‹µ λ¶€λ¶„μ„ μ μ ν ν‘ν„ν•  μ μμµλ‹λ‹¤.

λ”°λΌμ„, λ¨λ“  λ©”μ„λ“μ—μ„ **`@RequestParam`**μ„ μ‚¬μ©ν•  ν•„μ”λ” μ—†μΌλ©°, μ”μ²­μ λ³µμ΅μ„±κ³Ό μ„±κ²©μ— λ”°λΌ μ μ ν• μ–΄λ…Έν…μ΄μ…μ„ μ„ νƒν•λ” κ²ƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤.

μ¤μ›¨κ±°λ” λ³΄ν†µ μ„¤μ •(Configuration)μ— κ΄€ν• ν΄λμ¤λ΅ configλΌλ” ν¨ν‚¤μ§€ μƒμ„±ν• ν›„μ— κ·Έ μ•μ—μ„ μƒμ„±ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

```java
package com.springboot.api.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import springfox.documentation.builders.ApiInfoBuilder;
import springfox.documentation.builders.PathSelectors;
import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.service.ApiInfo;
import springfox.documentation.spi.DocumentationType;
import springfox.documentation.spring.web.plugins.Docket;
import springfox.documentation.swagger2.annotations.EnableSwagger2;

// μμ  5.22 -> μ¤μ›¨κ±° μ„¤μ • μ½”λ“
@Configuration
@EnableSwagger2
public class SwaggerConfiguration {

    @Bean
    public Docket api() {
        return new Docket(DocumentationType.SWAGGER_2)
            .apiInfo(apiInfo())
            .select()
            .apis(RequestHandlerSelectors.basePackage("com.springboot.api"))
            .paths(PathSelectors.any())
            .build();
    }

    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
            .title("Spring Boot Open API Test with Swagger")
            .description("μ„¤λ… λ¶€λ¶„")
            .version("1.0.0")
            .build();
    }
}
```

ν•΄λ‹Ή μ±•ν„°λ¥Ό μ½μ„λ• μ•„λμ™€ κ°™μ€ κ°λ…μ„ λ¨λ¥΄μ…¨λ‹¤λ©΄ μλ°”μ μ •μ„μΌλ΅ κ³µλ¶€ν•κ³  μ¤μ‹κΈ°λ¥Ό κ¶μ¥λ“λ¦½λ‹λ‹¤.

1. Map μ΄λ€ ?
2. Map μ—μ„ entrySet() λ©”μ„λ“λ” ?
3. forEach() λ” λ¬΄μ—‡?
4. return ν•  λ• stringBuilderλ” μ™ toSring()μ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ” κ²ƒμΌκΉ ?

## μ •λ‹µ

### **1. Mapμ΄λ€?**

Mapμ€ ν‚¤(key)μ™€ κ°’(value) μμΌλ΅ λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ” μλ£κµ¬μ΅°μ…λ‹λ‹¤. Javaμ—μ„ **`Map`**μ€ μΈν„°νμ΄μ¤λ΅, μ΄λ¥Ό κµ¬ν„ν• μ—¬λ¬ ν΄λμ¤κ°€ μμΌλ©°, κ°€μ¥ ν”ν μ‚¬μ©λλ” κµ¬ν„μ²΄λ” **`HashMap`**, **`TreeMap`**, **`LinkedHashMap`** λ“±μ΄ μμµλ‹λ‹¤. Mapμ νΉμ§•μ€ κ° ν‚¤λ” μ μΌν•΄μ•Ό ν•λ©°, κ° ν‚¤λ” ν•λ‚μ κ°’μ„ κ°€μ§ μ μμµλ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό ν¨μ¨μ μΌλ΅ μ €μ¥ν•κ³  λΉ λ¥΄κ² κ²€μƒ‰ν•  μ μμµλ‹λ‹¤.

### **2. Mapμ—μ„ entrySet() λ©”μ„λ“λ”?**

**`entrySet()`** λ©”μ„λ“λ” Map λ‚΄μ λ¨λ“  ν‚¤-κ°’ μμ„ **`Set`** ν•νƒλ΅ λ°ν™ν•©λ‹λ‹¤. μ΄ λ°ν™λ **`Set`**μ€ **`Map.Entry<K, V>`** κ°μ²΄λ“¤μ μ§‘ν•©μ΄λ©°, μ—¬κΈ°μ„ **`K`**μ™€ **`V`**λ” κ°κ° ν‚¤μ™€ κ°’μ νƒ€μ…μ„ λ‚νƒ€λƒ…λ‹λ‹¤. **`entrySet()`**μ„ μ‚¬μ©ν•λ©΄ Mapμ— μ €μ¥λ λ¨λ“  λ°μ΄ν„°μ— λ€ν•΄ λ°λ³µ(iterate)ν•  μ μμ–΄μ„ λ°μ΄ν„°λ¥Ό κ²€μƒ‰ν•κ±°λ‚ μ΅°μ‘ν•  λ• μ μ©ν•©λ‹λ‹¤.

### **3. forEach()λ” λ¬΄μ—‡μΈκ°€?**

**`forEach()`**λ” Java 8μ—μ„ λ„μ…λ λ©”μ„λ“λ΅, μ£Όλ΅ μ»¬λ ‰μ…(Collection)μ΄λ‚ μ¤νΈλ¦Ό(Stream)μ— μλ” κ° μ”μ†μ— λ€ν•΄ λ°λ³µμ μΌλ΅ μ‘μ—…μ„ μν–‰ν•  λ• μ‚¬μ©λ©λ‹λ‹¤. **`forEach()`**λ” λλ‹¤ ν‘ν„μ‹μ„ λ§¤κ°λ³€μλ΅ λ°›μ•„ μ»¬λ ‰μ…μ κ° μ”μ†μ— μ΄ λλ‹¤λ¥Ό μ μ©ν•©λ‹λ‹¤. μ΄ λ©”μ„λ“λ” λ‚΄λ¶€μ μΌλ΅λ” Iteratorλ¥Ό μ‚¬μ©ν•μ—¬ μ»¬λ ‰μ…μ κ° μ”μ†λ¥Ό μ²λ¦¬ν•λ©°, μ½”λ“λ¥Ό κ°„κ²°ν•κ² λ§λ“¤μ–΄ μ¤λ‹λ‹¤.

μμ‹

```java
Map<String, Integer> map = new HashMap<>();
map.put("apple", 100);
map.put("banana", 200);

map.forEach((key, value) -> System.out.println(key + " has price " + value));
```

μ΄ μ½”λ“λ” κ° ν‚¤μ™€ κ°’μ„ μ¶λ ¥ν•©λ‹λ‹¤.

### **4. return ν•  λ• stringBuilderλ” μ™ toString()μ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ” κ²ƒμΌκΉ?**

**`StringBuilder`**λ” λ¬Έμμ—΄μ„ ν¨μ¨μ μΌλ΅ μ΅°ν•©ν•κ³  μμ •ν•  μ μλ” ν΄λμ¤μ…λ‹λ‹¤. λ¬Έμμ—΄ μ—°μ‚°(νΉν λ°λ³µμ μΈ μμ •μ΄λ‚ μ¶”κ°€)μ΄ λ§μ€ κ²½μ°, **`String`** λ€μ‹  **`StringBuilder`**λ¥Ό μ‚¬μ©ν•λ©΄ μ„±λ¥μ΄ ν–¥μƒλ©λ‹λ‹¤. μ΄λ” **`StringBuilder`**κ°€ λ‚΄λ¶€μ μΌλ΅ λ¬Έμ λ°°μ—΄μ„ μ‚¬μ©ν•μ—¬ λ™μ μΌλ΅ ν™•μ¥ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤.

**`toString()`** λ©”μ„λ“λ” **`StringBuilder`**μ— μ¶•μ λ λ¨λ“  λ¬Έμλ¥Ό ν•λ‚μ **`String`**μΌλ΅ κ²°ν•©ν•μ—¬ λ°ν™ν•©λ‹λ‹¤. **`return`**μ—μ„ **`toString()`**μ„ μ‚¬μ©ν•λ” μ΄μ λ”, μΌλ°μ μΌλ΅ λ©”μ„λ“ μ™Έλ¶€μ—μ„λ” **`String`** ν•νƒμ λ°μ΄ν„°κ°€ ν•„μ”ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤. μ¦‰, **`StringBuilder`**μ μμ • κ°€λ¥ν• νΉμ„±μ€ λ‚΄λ¶€μ—μ„λ§ μ μ©ν•κ³ , μ™Έλ¶€λ΅ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  λ•λ” λ¶λ³€μ **`String`** ν•νƒλ΅ μ „ν™ν•μ—¬ μ•μ •μ„±κ³Ό μ‚¬μ© νΈμμ„±μ„ λ³΄μ¥ν•©λ‹λ‹¤.

# λ΅κΉ… λΌμ΄λΈλ¬λ¦¬- Logback

λ΅κΉ…μ΄λ€ appμ΄ λ™μ‘ν•λ” λ™μ• μ‹μ¤ν…μ μƒνƒλ‚ λ™μ‘ μ •λ³΄λ¥Ό μ‹κ°„μμΌλ΅ κΈ°λ΅ν•λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.

λ΅κΉ…μ€ λΉ„κΈ°λ¥ μ”κµ¬μ‚¬ν•­μ— μ†ν•©λ‹λ‹¤.
μ¦‰, μ‚¬μ©μλ‚ κ³ κ°μ—κ² ν•„μ”ν• κΈ°λ¥μ€ μ•„λ‹λΌλ” μλ―Έμ΄λ‹¤.
ν•μ§€λ§ λ΅κΉ…μ€ λ””λ²„κΉ…ν•κ±°λ‚ κ°λ° μ΄ν›„ λ°μƒν• λ¬Έμ λ¥Ό ν•΄κ²°ν•  λ• μ›μΈμ„ λ¶„μ„ν•λ” λ° κΌ­ ν•„μ”ν• μ”μ†μ…λ‹λ‹¤.

κ·Έλ ‡λ‹¤λ©΄ LogBackμ νΉμ§•μ€ ?

<aside>
π‘‰ μλ°”μ—μ„λ” λ¬Έμμ—΄μ„ ν•©μΉλ” λ°©λ²•μ€ ν¬κ² 4κ°€μ§€κ°€ μλ‹¤.
1. + μ—°μ‚°μ
2. String  ν΄λμ¤μ { concat(), append(), format() } λ©”μ„λ“ ν™μ© μ΄λ ‡κ² μ΄ 4κ°€μ§€κ°€ μλ‹¤.

</aside>

λ΅κΉ… μ„¤μ • λ° μ¶λ ¥μ— λ°°μ› λ‹¤.
λ΅κ·Έμ— μ–΄λ–¤ λ‚΄μ©μ„ ν¬ν•¨ν• μ§€μ— κ΄€ν•΄, β†’ app λ§λ‹¤ μ¶λ ¥ν•΄μ•Ό ν•  λ΅κ·Έκ°€ λ‹¤λ¥΄κΈ° λ–„λ¬Έμ΄λ‹¤.

Controllerλ¥Ό ν†µν•΄ κ°’μ„ λ°›λ” λ°©λ²•μ„ μ•μ•„λ΄¤λ‹¤.
+ μ»¨νΈλ΅¤λ¬λ¥Ό μ‘μ„±ν•΄μ„ μ™Έλ¶€μ— μΈν„°νμ΄μ¤λ¥Ό λ…Έμ¶ν•λ” λ°©λ²•λ„ μ•μ•„λ΄¤λ‹¤.
